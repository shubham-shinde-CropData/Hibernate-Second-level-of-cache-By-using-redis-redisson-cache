<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Order Form</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f2f2f2;
            margin: 0;
            padding: 20px;
        }

        h2 {
            color: #333;
            margin-bottom: 20px;
        }

        form {
            background-color: #fff;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        label {
            display: block;
            margin-bottom: 5px;
            color: #333;
            font-weight: bold;
        }

        input[type="date"],
        select,
        textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
            font-family: inherit;
            font-size: inherit;
        }

        button[type="submit"] {
            background-color: #4caf50;
            color: #fff;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        button[type="submit"]:hover {
            background-color: #45a049;
        }
         
    </style>
</head>
<body>
    <h2>Order Form</h2>
    <form th:object="${order}" th:action="@{/orders/new}" method="post">
        <div>
            <label for="shippedDate">Shipped Date:</label>
            <input type="date" id="shippedDate" th:field="*{shippedDate}" required />
        </div>
        <div>
            <label for="orderStatusVo">Order Status:</label>
            <select id="orderStatusVo" th:field="*{orderStatusVo}" required>
                <option th:each="status : ${orderStatusOptions}" th:value="${status}" th:text="${status}" />
            </select>
        </div>
        <div>
            <label for="comments">Comments:</label>
            <textarea id="comments" th:field="*{comments}" rows="4"></textarea>
        </div>
        <div>
            <label for="customerNumber">Customer Number:</label>
            <input type="number" id="customerNumber" th:field="*{customerNumber}" required />
        </div>
        <div>
            <h3>Order Details:</h3>
            <div th:each="orderDetail, orderDetailStatus : *{orderDetails}">
                <div>
                    <label for="orderDetails[__${orderDetailStatus.index}__].product">Product:</label>
                    <input type="text" id="orderDetails[__${orderDetailStatus.index}__].product" th:field="*{orderDetails[__${orderDetailStatus.index}__].product}" required />
                </div>
                <div>
                    <label for="orderDetails[__${orderDetailStatus.index}__].quantity">Quantity:</label>
                    <input type="number" id="orderDetails[__${orderDetailStatus.index}__].quantity" th:field="*{orderDetails[__${orderDetailStatus.index}__].quantity}" required />
                </div>
                 <button type="button" onclick="addOrder()">Add Order</button>
            </div>
             
        </div>
        <button type="submit">Save</button>
        
    </form>
     <script th:inline="javascript">
        function addOrder() {
            var orderDetailsContainer = document.getElementById('orderDetailsContainer');
            var orderDetailCount = document.querySelectorAll('.order-detail').length;
            var template = `
                <div class="order-detail">
                    <div>
                        <label for="orderDetails[__${orderDetailCount}__].product">Product:</label>
                        <input type="text" id="orderDetails[__${orderDetailCount}__].product" th:field="*{orderDetails[__${orderDetailCount}__].product}" required />
                    </div>
                    <div>
                        <label for="orderDetails[__${orderDetailCount}__].quantity">Quantity:</label>
                        <input type="number" id="orderDetails[__${orderDetailCount}__].quantity" th:field="*{orderDetails[__${orderDetailCount}__].quantity}" required />
                    </div>
                </div>
            `;
            orderDetailsContainer.insertAdjacentHTML('beforeend', template);
        }
    </script>
</body>
</html>